<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for contracts/WETH.sol</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">contracts/</a> WETH.sol
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">45.16% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>14/31</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">22.22% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>4/18</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">52.94% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>9/17</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">44.74% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>17/38</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">&nbsp;
// SPDX-License-Identifier: GPL-2.0-or-later
pragma solidity =0.7.6;
&nbsp;
import "./IWETH.sol";
import "@openzeppelin/contracts/math/SafeMath.sol";
import "hardhat/console.sol";
&nbsp;
&nbsp;
contract WETH is IWETH {
&nbsp;
    using SafeMath for uint;
    string private _name= "Wrapped Ether";
    string private _symbol = "WETH";
    uint private _decimal = 18;
    address private _owner;
    uint private _totalSupply;
    mapping (address =&gt; uint) private _balance;
    mapping (address =&gt; mapping (address =&gt; uint)) private _allowance;
&nbsp;
    constructor ()
    {       
        <span class="missing-if-branch" title="else path not taken" >E</span>require(msg.sender != address(0),"OWNER_ERROR");
        _owner = msg.sender;
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    modifier onlyOwner {</span>
<span class="cstat-no" title="statement not covered" >        require(_owner == msg.sender,"Caller is not the owner")</span>;
        _;
    }
&nbsp;
    /// @notice totalSupply returns the total supply of the minted Fusion Token
<span class="fstat-no" title="function not covered" >        function totalSupply() external view override returns (uint) {</span>
<span class="cstat-no" title="statement not covered" >            return _totalSupply;</span>
        }
&nbsp;
    function decimal() external view override returns (uint) {
        return _decimal;
    }
&nbsp;
    ///@notice balanceOf: returns the owner of the contract 
    /// @param account: check balance of this account
    ///@return uint256 amount of the balance
    function balanceOf(address account) external view override returns (uint256) {
        return _balance[account];
    }
&nbsp;
    ///@notice name: returns the name of the token
    function name() external view override returns (string memory) {
        return _name;
    }
&nbsp;
    ///@notice symbol: returns the symbol associated with the token
    function symbol() external view override returns (string memory) {
        return _symbol;
    }
&nbsp;
&nbsp;
    ///@notice owner: returns the owner of the contract 
    function owner() external view returns (address) {
        return _owner;
    }
&nbsp;
    ///@notice allowance: returns the allowance for the spender on behalf of the owner\
    ///@param account: the owner account
    ///@param spender: the spender account
    ///@return uint: the allowance amount
<span class="fstat-no" title="function not covered" >    function allowance(</span>
        address account,
        address spender
    ) external view override returns (uint) {
<span class="cstat-no" title="statement not covered" >        return _allowance[account][spender];</span>
    }
   
  
&nbsp;
    /// @notice transferFrom, sends the allowance amount alloted to msg.sender on behalf of owner to the recipeient, emits Transfer event. 
    /// @param src  sender of the wad
    /// @param dst  receiver of the wad 
    /// @param wad the allowance amount
    /// @dev calls the internal _transfer function , adjusts the allowance, emits Transfer and Approval events.
<span class="fstat-no" title="function not covered" >    function transferFrom(</span>
        address src,
        address dst,
        uint wad
    ) external override returns (bool) {
<span class="cstat-no" title="statement not covered" >        require(_allowance[src][msg.sender] &gt; wad,"INSUFFICIENT_ALLOWANCE!")</span>;
<span class="cstat-no" title="statement not covered" >        _transfer(src,dst,wad)</span>;
<span class="cstat-no" title="statement not covered" >        _approve(src, msg.sender, _allowance[src][msg.sender].sub(wad))</span>;
<span class="cstat-no" title="statement not covered" >        return true;</span>
    }
&nbsp;
    /// @notice transfer, sends amount wad to dst, emits Transfer event. 
    /// @param dst  destination of the funds
    /// @param wad the allowance amount
    /// @dev checks balances of sender &gt;= amount, checks of recipent != zero address
<span class="fstat-no" title="function not covered" >    function transfer(</span>
        address dst,
        uint wad
    ) external  override returns (bool) {
<span class="cstat-no" title="statement not covered" >        _transfer(msg.sender,dst,wad)</span>;
<span class="cstat-no" title="statement not covered" >        return true;</span>
    }
&nbsp;
&nbsp;
    /// @notice _transfer, internal function that handles sending amount to recipient, emits Transfer event. 
    /// @param src  sender of the funds
    /// @param dst  destination addres of the funds
    /// @param wad the allowance amount
    /// @dev checks balances of sender &gt;= amount, checks of recipent != zero address, adjusts the balances and emits the Transfer event
<span class="fstat-no" title="function not covered" >    function _transfer(</span>
        address src,
        address dst,
        uint wad
    ) internal {
<span class="cstat-no" title="statement not covered" >        require(_balance[src] &gt;= wad,"INSUFFICIENT_FOR_TRANSFER")</span>;
<span class="cstat-no" title="statement not covered" >        require(dst != address(0),"INVALID_RECIPIENT")</span>;
        _balance[src]= _balance[src].sub(wad);
        _balance[dst]= _balance[dst].add(wad);
<span class="cstat-no" title="statement not covered" >        emit Transfer(src,dst,wad);</span>
         }
&nbsp;
&nbsp;
&nbsp;
    /// @notice approve, sets approval for the spender on behalf on msg.sender for amount
    /// @param spender  spender seeking an allowance on behalf on msg.sender
    /// @param amount the allowance amount
    /// @dev emits an approval event
<span class="fstat-no" title="function not covered" >    function approve(</span>
        address spender,
        uint amount
    ) external override returns (bool) {
<span class="cstat-no" title="statement not covered" >        _approve(msg.sender, spender, amount)</span>;
<span class="cstat-no" title="statement not covered" >        return true;</span>
    }
&nbsp;
    /// @notice _approve, internal function that handles the approval for the spender on behalf on owner for amount
    /// @param account  owner of the funds
    /// @param spender  spender seeking an allowance on behalf of the owner
    /// @param amount the allowance amount
<span class="fstat-no" title="function not covered" >      function _approve(</span>
        address account,
        address spender,
        uint amount
    ) internal  {
<span class="cstat-no" title="statement not covered" >        require(account != address(0),"INVALID_OWNER_ADDRESS")</span>;
<span class="cstat-no" title="statement not covered" >        require(spender != address(0),"INVALID_SPENDER_ADDRESS")</span>;
        _allowance[account][spender] = amount;
<span class="cstat-no" title="statement not covered" >        emit Approval(account,spender,amount);</span>
    }
&nbsp;
    /// @notice deposit, payable function that receives the senders native ETH to wrap into WETH
    ///@dev emits a deposit event afte updating the user's balance
    function deposit() public payable override{
        console.log("Depositing Funds...");
           _balance[msg.sender] = _balance[msg.sender].add(msg.value);
        emit Deposit(msg.sender, msg.value);
    }
    
&nbsp;
&nbsp;
    /// @notice withdraw, allowas user to withdraw funds
    ///@dev emits a withdraw event, performs checks and effects to avoid reentrancy attacks
    function withdraw(uint wad) public override {
        require(_balance[msg.sender] &gt;= wad,"NOTHING_TO_WITHDRAW");
        uint bal =  _balance[msg.sender];
        _balance[msg.sender] =  _balance[msg.sender].sub(wad);
        _sendETH(payable(msg.sender),bal);
        // msg.sender.transfer(wad);
        emit Withdraw(msg.sender, wad);
    }
&nbsp;
&nbsp;
    ///@notice _sendETH internal function to handle sending ETH, emits Refund event
    ///@param account: payable account that'll get the refund in ETH
    ///@param amount: amount of ETH to be refunded to the account
    function _sendETH(address payable account, uint amount) internal  {
        (bool success, ) = payable(account).call{value: amount}("");
        <span class="missing-if-branch" title="else path not taken" >E</span>require(success, "FAILED_TO_SEND_FUNDS");
    }
&nbsp;
    // ///@notice receive external payable, calls the internal _deposit function
    // receive() external override payable{
    //     _deposit();
    // }
&nbsp;
}</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Dec 27 2022 08:48:35 GMT-0800 (Pacific Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
